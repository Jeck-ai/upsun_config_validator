applications:
  app:
    type: 'java@17'
    web:
      commands:
        start: java -jar app.jar
      locations:
        '/':
          passthru: true
    hooks:
      build: ./mvnw package
    relationships:
      cache: 'cache:redis'

services:
  cache:
    type: redis:6.0
    configuration:
      storage: 256MB

routes:
  "https://{default}/":
    type: upstream
    upstream: "app:http"