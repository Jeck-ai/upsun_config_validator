applications:
  app:
    type: 'golang@1.19'
    web:
      commands:
        start: ./app
      locations:
        '/':
          passthru: true
    hooks:
      build: go build -o app
    relationships:
      cache: 'cache:redis'

services:
  cache:
    type: redis:6.0
    configuration:
      storage: 256MB

routes:
  "https://{default}/":
    type: upstream
    upstream: "app:http"